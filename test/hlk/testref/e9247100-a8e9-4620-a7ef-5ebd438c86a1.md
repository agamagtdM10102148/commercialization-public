---
title: Connected Standby IO Stress
description: Connected Standby IO Stress
MSHAttr:
- 'PreferredSiteName:MSDN'
- 'PreferredLib:/library/windows/hardware'
ms.assetid: 057a28ba-474c-4f32-80b3-95f76d3573ae
author: dawn.wood
ms.author: dawnwood
ms.date: 11/05/2018
ms.topic: article


---

# <span id="p_hlk_test.e9247100-a8e9-4620-a7ef-5ebd438c86a1"></span>Connected Standby IO Stress


This test verifies that Connected Standby is functioning in the presence of IO events and that data corruptions do not occur across Connected Standby transitions.

## Test details

|||
|---|---|
| **Specifications**  | <ul><li>System.Fundamentals.StorageAndBoot.BootPerformance</li></ul> |  
| **Platforms**   | <ul><li>Windows 10, client editions (x86)</li><li>Windows 10, client editions (x64)</li><li>Windows 10, client editions (ARM64)</li></ul> |
| **Supported Releases** | <ul><li>Windows 10</li><li>Windows 10, version 1511</li><li>Windows 10, version 1607</li><li>Windows 10, version 1703</li><li>Windows 10, version 1709</li><li>Windows 10, version 1803</li><li>Next update to Windows 10</li></ul> |
|**Expected run time (in minutes)**| 480 |
|**Category**| Scenario |
|**Timeout (in minutes)**| 28800 |
|**Requires reboot**| false |
|**Requires special configuration**| false |
|**Type**| automatic |



## <span id="Additional_documentation"></span><span id="additional_documentation"></span><span id="ADDITIONAL_DOCUMENTATION"></span>Additional documentation


Tests in this feature area might have additional documentation, including prerequisites, setup, and troubleshooting information, that can be found in the following topic(s):

-   [System.Fundamentals additional documentation](system-fundamentals-additional-documentation.md)

## <span id="Running_the_test"></span><span id="running_the_test"></span><span id="RUNNING_THE_TEST"></span>Running the test


Before you run the test, complete the test setup as described in the test requirements: [WDTF System Fundamentals Testing Prerequisites](wdtf-system-fundamentals-testing-prerequisites.md).

Before running the test, ensure that the system is able to enter and exit Connected Standby reliably. The test will stress its Connected Standby support. Also, ensure that there is greater than 2GB of free space on the boot volume to ensure that RapidFile is able to write to the disk.

## <span id="Troubleshooting"></span><span id="troubleshooting"></span><span id="TROUBLESHOOTING"></span>Troubleshooting


For generic troubleshooting of HLK test failures, see [Troubleshooting Windows HLK Test Failures](../user/troubleshooting-windows-hlk-test-failures.md).

For troubleshooting information, see [Troubleshooting the Windows HLK Environment](../user/troubleshooting-the-windows-hlk-environment.md).

If the Check Configuration section fails, look at the log from the "Run ParseTrace.exe" task to determine why it failed. It may be caused by the system not entering in Connected Standby in response to the test issuing that command.

If the test fails on the Long Haul section then you can look into the last wtl logs generated by SCSI Compliance, RapidFile, and the Connected Standby script to determine what the cause of the error was.

## <span id="More_information"></span><span id="more_information"></span><span id="MORE_INFORMATION"></span>More information


The test consists of three parts: setup, check configuration, and long haul.

The setup part copies the files to the system, exempts processes from the DAM, and enables test signing. Failures in this section are straightforward and the cause can be determined by viewing the error codes returned from the task.

The check configuration part runs Connected Standby, RapidFile, and SCSI Compliance tests in parallel for a few minutes while tracing the disk activity and the power states of the devices. This is to ensure that the devices are entering the proper power states in response to the test. Most commonly, a failure will be seen in the "Run ParseTrace.exe" task which evaluates the results from the ETW traces and determines if the devices entered the proper states. Viewing the task log for this task should reveal the cause of failure.

If the first two parts passed, the test enters into the long haul part where the same three files are run in parallel as in the check configuration part, but this time without the ETW tracing. The tasks run for 8 hours and passes as long as the system is able to continue running for that time and data integrity is maintained.

### <span id="Command_syntax"></span><span id="command_syntax"></span><span id="COMMAND_SYNTAX"></span>Command syntax

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Command option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>/Process</p></td>
<td><p>Process to run: ConnectedStandby, RapidFile, RapidFileVerify, or SCSICompliance.</p></td>
</tr>
<tr class="even">
<td><p>/Duration</p></td>
<td><p>Duration to run the test (seconds).</p></td>
</tr>
<tr class="odd">
<td><p>/Device</p></td>
<td><p>Drive letter or physical drive number of device to test.</p></td>
</tr>
<tr class="even">
<td><p>/Scenario</p></td>
<td><p>Scenario type to test: CheckConfiguration, Stress, LongHaul, or SelectiveSuspend.</p>
<p>Default value: LongHaul</p></td>
</tr>
</tbody>
</table>

> [!NOTE]
> 
> For command line help for this test binary, type **/h**.



### <span id="Command_usage"></span><span id="command_usage"></span><span id="COMMAND_USAGE"></span>Command usage

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>cscript.exe ConnectedStandbyIOStress.wsf /Process:ConnectedStandby /Duration:[RunDurationSeconds] /Scenario:[Scenario]</strong></p></td>
<td><p>Runs the Connected Standby test.</p></td>
</tr>
<tr class="even">
<td><p><strong>cscript.exe ConnectedStandbyIOStress.wsf /Process:RapidFile /Duration:[RunDurationSeconds] /Device:[StorageDriveLetter] /Scenario:[Scenario]</strong></p></td>
<td><p>Runs the RapidFile test.</p></td>
</tr>
<tr class="odd">
<td><p><strong>cscript.exe ConnectedStandbyIOStress.wsf /Process:SCSICompliance /Duration:[RunDurationSeconds] /Device:[StorageDriveNumber] /Scenario:[Scenario]</strong></p></td>
<td><p>Runs the SCSI Compliance test.</p></td>
</tr>
</tbody>
</table>

> [!NOTE]
> 
> For command line help for this test binary, type **/h.**



### <span id="File_list"></span><span id="file_list"></span><span id="FILE_LIST"></span>File list

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>File</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>ntlog.dll</p></td>
<td><p><em>&lt;osbinroot&gt;</em>\nttest\commontest\ntlog&lt;/p&gt;</td>
</tr>
<tr class="even">
<td><p>ntlogger.ini</p></td>
<td><p><em>&lt;osbinroot&gt;</em>\nttest\commontest\ntlog&lt;/p&gt;</td>
</tr>
<tr class="odd">
<td><p>Damx.exe</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\cstools\dam&lt;/p&gt;</td>
</tr>
<tr class="even">
<td><p>Stresslog.dll</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\basetest\core_file_services\shared_libs&lt;/p&gt;</td>
</tr>
<tr class="odd">
<td><p>Fbslog.dll</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\basetest\core_file_services\shared_libs\fbslog&lt;/p&gt;</td>
</tr>
<tr class="even">
<td><p>Rapidfile.exe</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\basetest\core_file_services\shared_tests\wdk</p></td>
</tr>
<tr class="odd">
<td><p>ParseTrace.exe</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\driverstest\storage\sd\lowpower&lt;/p&gt;</td>
</tr>
<tr class="even">
<td><p>ConnectedStandbyIOStress.wsf</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\driverstest\storage\wdk\connectedstandy&lt;/p&gt;</td>
</tr>
<tr class="odd">
<td><p>Wttlog_obj.js</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\driverstest\storage\wdk&lt;/p&gt;</td>
</tr>
<tr class="even">
<td><p>Scsicompliance.exe</p></td>
<td><p><em>&lt;testbinroot&gt;</em>\nttest\driverstest\storage\wdk&lt;/p&gt;</td>
</tr>
</tbody>
</table>



### <span id="Parameters"></span><span id="parameters"></span><span id="PARAMETERS"></span>Parameters

| Parameter name         | Parameter description                      |
|------------------------|--------------------------------------------|
| **LLU\_NetAccessOnly** | User account for accessing test fileshare. |
| **LLU\_LclAdminUsr**   | User account for running the test.         |
| **DiskDeviceObjLink**  | Assigned by Create Storage Parameters.     |
| **StorageDriveLetter** | Assigned by Create Storage Parameters.     |
| **StorageDriveNumber** | Assigned by Create Storage Parameters.     |
| **Destructive**        | (0,1) 0=Passive, 1=Destructive             |












